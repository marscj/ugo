(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19510b5d"],{"0bb4":function(t,e,n){"use strict";n.d(e,"e",function(){return a}),n.d(e,"d",function(){return o}),n.d(e,"f",function(){return l}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return s});var i=n("365c"),r=n("b775");function a(t){return Object(r["b"])({url:i["a"].notice,method:"get",params:t})}function o(t){return Object(r["b"])({url:i["a"].notice+"".concat(t,"/"),method:"get"})}function l(t,e){return Object(r["b"])({url:i["a"].notice+"".concat(t,"/"),method:"put",data:e})}function c(t){return Object(r["b"])({url:i["a"].notice,method:"post",data:t})}function s(t){return Object(r["b"])({url:i["a"].notice+"".concat(t,"/"),method:"delete"})}},a0ab:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("detail",{attrs:{"is-edit":!0},on:{title:t.onTitle}})},r=[],a=n("a8ea"),o={name:"CreateForm",components:{Detail:a["a"]},data:function(){return{description:"编辑公告"}},methods:{onTitle:function(t){this.description=t.title,this.pageTitle=t.subtitle,this.$parent.getPageMeta()}}},l=o,c=n("2877"),s=Object(c["a"])(l,i,r,!1,null,null,null);e["default"]=s.exports},a8ea:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-spin",{attrs:{spinning:t.spinning}},[n("a-card",[n("a-form",{attrs:{form:t.form}},[n("a-form-item",{attrs:{label:"Title",required:!0,"validate-status":null==t.help.title||""===t.help.title?null:"error",help:t.help.title}},[n("a-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),n("a-form-item",{attrs:{label:"SubTitle",required:!0,"validate-status":null==t.help.subtitle||""===t.help.subtitle?null:"error",help:t.help.subtitle}},[n("a-textarea",{attrs:{rows:5},model:{value:t.form.subtitle,callback:function(e){t.$set(t.form,"subtitle",e)},expression:"form.subtitle"}})],1),n("a-form-item",{attrs:{label:"Content",required:!0,"validate-status":null==t.help.content||""===t.help.content?null:"error",help:t.help.content}},[n("div",{staticClass:"components-container"},[n("div",[n("tinymce",{attrs:{height:500},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)])])],1),n("a-row",[n("a-col",{attrs:{span:"2"}},[n("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:t.handleSubmit}},[t._v("Submit")])],1),n("a-col",{attrs:{span:"2"}},[n("a-button",{on:{click:t.handleGoBack}},[t._v("Return")])],1)],1)],1)],1)},r=[],a=n("8256"),o=n("f3b8"),l=n("0bb4"),c={name:"EditDetail",components:{Tinymce:a["a"]},props:{isEdit:{type:Boolean,default:!1}},data:function(){return{form:{title:"",subtitle:"",content:""},help:{},spinning:!1}},created:function(){if(this.isEdit){var t=this.$route.params&&this.$route.params.id;this.fetch(t)}},methods:{handleGoBack:function(){this.$router.go(-1)},fetch:function(t){var e=this;this.spinning=!0,Object(l["d"])(t).then(function(t){var n=t.result;e.form=n,e.initData(n)}).finally(function(){e.spinning=!1})},updateForm:function(t){var e=this;this.spinning=!0,Object(l["f"])(this.$route.params.id,t).then(function(t){t.result;e.handleGoBack()}).catch(function(t){e.checkError(t)}).finally(function(){e.spinning=!1})},createForm:function(t){var e=this;this.spinning=!0,Object(l["a"])(t).then(function(t){t.result;e.handleGoBack()}).catch(function(t){e.checkError(t)}).finally(function(){e.spinning=!1})},checkError:function(t){var e=Object(o["a"])(t,"title","subtitle","content");for(var n in this.help={title:e["title"],subtitle:e["subtitle"],content:e["content"]},e)e[n]&&this.$notification["error"]({message:n,description:e[n],duration:4})},initData:function(t){this.isEdit&&this.$emit("title",t)},handleSubmit:function(){this.isEdit?this.updateForm(this.form):this.createForm(this.form)}}},s=c,u=n("2877"),f=Object(u["a"])(s,i,r,!1,null,null,null);e["a"]=f.exports}}]);