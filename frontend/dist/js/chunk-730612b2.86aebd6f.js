(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-730612b2"],{c4c8:function(t,e,a){"use strict";a.d(e,"e",function(){return o}),a.d(e,"d",function(){return c}),a.d(e,"f",function(){return u}),a.d(e,"a",function(){return s}),a.d(e,"c",function(){return i}),a.d(e,"b",function(){return l});var r=a("365c"),n=a("b775");function o(t){return Object(n["b"])({url:r["a"].system_product,method:"get",params:t})}function c(t){return Object(n["b"])({url:r["a"].system_product+"".concat(t,"/"),method:"get"})}function u(t,e){return Object(n["b"])({url:r["a"].system_product+"".concat(t,"/"),method:"put",data:e})}function s(t){return Object(n["b"])({url:r["a"].system_product,method:"post",data:t})}function i(t){return Object(n["b"])({url:r["a"].product,method:"get",params:t})}function l(t){return Object(n["b"])({url:r["a"].product+"".concat(t,"/"),method:"get"})}},ca9c:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{directives:[{name:"action",rawName:"v-action:query",arg:"query"}],attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:16}},[a("a-form-item",{attrs:{label:"Search"}},[a("a-input",{attrs:{placeholder:"Title or Product ID"},model:{value:t.queryParam.search,callback:function(e){t.$set(t.queryParam,"search",e)},expression:"queryParam.search"}})],1)],1),a("a-col",{attrs:{md:8,sm:16}},[a("a-form-item",{attrs:{label:"Category"}},[a("a-select",{model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},t._l(t.categoryData,function(e){return a("a-select-option",{key:e.value},[t._v(t._s(e.label))])}),1)],1)],1),a("a-col",{attrs:{md:8,sm:16}},[a("a-form-item",{attrs:{label:"Status"}},[a("a-checkbox",{attrs:{checked:t.queryParam.status},on:{change:function(e){t.queryParam.status=!t.queryParam.status}}},[t._v("上架")])],1)],1)],1)],1)],1),a("div",{staticClass:"table-operator"},[a("a-button",{directives:[{name:"action",rawName:"v-action:add",arg:"add"}],attrs:{type:"primary",icon:"plus"},on:{click:t.handleCreate}},[t._v("Add")])],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(t){return t.id},columns:t.columns,data:t.loadData,bordered:""},scopedSlots:t._u([{key:"photo",fn:function(e){return a("span",{},[[e.photo?a("img",{attrs:{src:e.photo.image.thumbnail,alt:"photo"}}):t._e()]],2)}},{key:"action",fn:function(e,r){return a("span",{},[a("div",{directives:[{name:"action",rawName:"v-action:edit",arg:"edit"}]},[a("router-link",{attrs:{to:{name:"ProductEdit",params:{id:r.id}}}},[t._v("Edit")])],1)])}}])})],1)},n=[],o=a("2af9"),c=a("c4c8"),u=[{value:0,label:"全部"},{value:1,label:"美食"},{value:2,label:"门票"},{value:3,label:"日游"},{value:4,label:"用车"},{value:5,label:"酒店"},{value:6,label:"伴手礼"}],s={name:"ProductList",components:{STable:o["e"]},created:function(){var t=this;this.debouncedGetAnswer=_.debounce(function(){t.$refs.table.refresh(!0)},1e3)},watch:{category:function(t,e){this.queryParam.category=0==t?void 0:t,this.$refs.table.refresh(!0)},"queryParam.status":function(t,e){this.$refs.table.refresh(!0)},"queryParam.search":function(t,e){this.debouncedGetAnswer()}},data:function(){var t=this,e=this.$createElement;return{category:0,categoryData:u,queryParam:{search:void 0,category:null,status:!0},columns:[{title:"#",dataIndex:"id",width:40},{title:"Product ID",dataIndex:"productID",width:120},{title:"Category",dataIndex:"category",customRender:function(t,a,r){return e("span",[u[t].label])}},{title:"Title",dataIndex:"title"},{title:"SubTitle",dataIndex:"subtitle"},{title:"Location",dataIndex:"location"},{title:"Photo",width:200,scopedSlots:{customRender:"photo"}},{title:"Status",dataIndex:"status",width:"80px",customRender:function(t,a,r){return e("span",t?["上架"]:["下架"])}},{title:"操作",dataIndex:"action",width:"80px",scopedSlots:{customRender:"action"}}],loadData:function(e){return Object(c["e"])(Object.assign(e,t.queryParam)).then(function(t){return t.result})}}},methods:{handleCreate:function(t){this.$router.push({name:"ProductCreate"})}}},i=s,l=a("2877"),d=Object(l["a"])(i,r,n,!1,null,null,null);e["default"]=d.exports}}]);