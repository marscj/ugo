(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-087b301c"],{"2b1f":function(t,a,e){"use strict";var r=e("9bfb"),n=e.n(r);n.a},"9bfb":function(t,a,e){},b164:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-card",{directives:[{name:"action",rawName:"v-action:query",arg:"query"}],attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:12}},[e("a-col",{attrs:{xs:6,md:6,sm:24}},[e("a-form-item",{attrs:{label:"OrderID"}},[e("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.orderID,callback:function(a){t.$set(t.queryParam,"orderID",a)},expression:"queryParam.orderID"}})],1)],1),e("a-col",{attrs:{xs:6,md:6,sm:24}},[e("a-form-item",{attrs:{label:"Customer"}},[e("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.customer,callback:function(a){t.$set(t.queryParam,"customer",a)},expression:"queryParam.customer"}})],1)],1),e("a-col",{attrs:{xs:6,md:6,sm:24}},[e("a-form-item",{attrs:{label:"Operator"}},[e("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.operator,callback:function(a){t.$set(t.queryParam,"operator",a)},expression:"queryParam.operator"}})],1)],1),e("a-col",{attrs:{xs:6,md:6,sm:24}},[e("a-form-item",{attrs:{label:"Day"}},[e("a-range-picker",{attrs:{value:t.day},on:{change:function(a){return t.day=a}}})],1)],1)],1),e("div",[e("a-collapse",{attrs:{bordered:!1}},[e("a-collapse-panel",{key:"1",staticStyle:{border:"0",overflow:"hidden","margin-bottom":"15px"}},[e("a-row",{attrs:{gutter:12}},[e("a-col",{attrs:{xs:8,md:6,sm:24}},[e("a-form-item",{attrs:{label:"Product"}},[e("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.product,callback:function(a){t.$set(t.queryParam,"product",a)},expression:"queryParam.product"}})],1)],1),e("a-col",{attrs:{xs:8,md:6,sm:24}},[e("a-form-item",{attrs:{label:"Variant"}},[e("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.variant,callback:function(a){t.$set(t.queryParam,"variant",a)},expression:"queryParam.variant"}})],1)],1),e("a-col",{attrs:{xs:8,md:6,sm:24}},[e("a-form-item",{attrs:{label:"OrderStatus"}},[e("a-select",{attrs:{value:t.order_status,filterOption:!1},on:{change:function(a){return t.order_status=a}}},t._l(t.orderStatus,function(a){return e("a-select-option",{key:a.value},[t._v(t._s(a.label))])}),1)],1)],1),e("a-col",{attrs:{xs:8,md:6,sm:24}},[e("a-form-item",{attrs:{label:"PayStatus"}},[e("a-select",{attrs:{value:t.pay_status,filterOption:!1},on:{change:function(a){return t.pay_status=a}}},t._l(t.payStatus,function(a){return e("a-select-option",{key:a.value},[t._v(t._s(a.label))])}),1)],1)],1)],1)],1)],1)],1)],1)],1),e("s-table",{ref:"table",attrs:{size:"default",rowKey:function(t){return t.id},columns:t.columns,data:t.loadData,bordered:"",fixed:"",scroll:{x:3450}},scopedSlots:t._u([{key:"guest_remark",fn:function(a){return e("span",{staticStyle:{"word-warp":"break-word","word-break":"break-all"}},[e("ellipsis",{attrs:{length:200,tooltip:""}},[t._v(t._s(a))])],1)}},{key:"variant",fn:function(a){return e("span",{staticStyle:{"word-warp":"break-word","word-break":"break-all"}},[e("ellipsis",{attrs:{length:60,tooltip:""}},[t._v(t._s(a))])],1)}},{key:"product",fn:function(a){return e("span",{staticStyle:{"word-warp":"break-word","word-break":"break-all"}},[e("ellipsis",{attrs:{length:60,tooltip:""}},[t._v(t._s(a))])],1)}},{key:"guest_info",fn:function(a){return e("span",{staticStyle:{"word-warp":"break-word","word-break":"break-all"}},[e("ellipsis",{attrs:{length:160,tooltip:""}},[t._v(t._s(a))])],1)}},{key:"guest_contact",fn:function(a){return e("span",{staticStyle:{"word-warp":"break-word","word-break":"break-all"}},[e("ellipsis",{attrs:{length:160,tooltip:""}},[t._v(t._s(a))])],1)}},{key:"create_at",fn:function(a){return e("span",{},[[e("span",[t._v(t._s(t._f("moment")(a,"YYYY-MM-DD HH:mm")))])]],2)}},{key:"action",fn:function(a,r){return e("span",{},[e("div",{directives:[{name:"action",rawName:"v-action:edit",arg:"edit"}]},[e("router-link",{attrs:{to:{name:"OrderEdit",params:{id:r.id}}}},[t._v("Edit")])],1)])}}])})],1)},n=[],o=(e("7514"),e("2af9")),s=e("f8b7"),d=[{value:-1,label:"全部"},{value:0,label:"新建"},{value:1,label:"订单已确认"},{value:2,label:"出票成功"},{value:3,label:"订单已取消"},{value:4,label:"退款中"},{value:5,label:"已退款"}],l=[{value:-1,label:"全部"},{value:0,label:"未支付"},{value:1,label:"部分支付"},{value:2,label:"全部付清"},{value:3,label:"部分退款"},{value:4,label:"全部退款"}],i={name:"OrderList",components:{STable:o["e"],Ellipsis:o["b"]},created:function(){var t=this;this.debouncedGetAnswer=_.debounce(function(){t.$refs.table.refresh(!0)},1e3)},watch:{queryParam:{deep:!0,handler:function(t,a){this.debouncedGetAnswer()}},order_status:function(t,a){this.queryParam.order_status=-1==t?void 0:t},pay_status:function(t,a){this.queryParam.pay_status=-1==t?void 0:t},day:function(t,a){null!=t&&void 0!=t&&t.length>0?(this.queryParam.start_day=t[0].format("YYYY-MM-DD"),this.queryParam.end_day=t[1].format("YYYY-MM-DD")):(this.queryParam.start_day=void 0,this.queryParam.end_day=void 0)}},data:function(){var t=this,a=this.$createElement;return{orderStatus:d,payStatus:l,day:void 0,order_status:-1,pay_status:-1,queryParam:{orderID:void 0,order_status:void 0,pay_status:void 0,start_day:void 0,end_day:void 0,variant:void 0,product:void 0,customer:void 0,operator:void 0},columns:[{title:"OrderID",dataIndex:"orderID",fixed:"left",width:150},{title:"Customer",dataIndex:"customer",width:150},{title:"Product",dataIndex:"product",scopedSlots:{customRender:"product"},width:250},{title:"Variant",dataIndex:"variant",scopedSlots:{customRender:"variant"},width:250},{title:"ActionDay",dataIndex:"day",width:150},{title:"ActionTime",dataIndex:"time",width:150},{title:"AdultQuantity",dataIndex:"adult_quantity",width:50},{title:"AdultPrice",dataIndex:"adult_price",width:100},{title:"ChildQuantity",dataIndex:"child_quantity",width:50},{title:"ChildPrice",dataIndex:"child_price",width:100},{title:"Total",dataIndex:"total",width:100},{title:"OrderStatus",dataIndex:"order_status",width:150,customRender:function(t,e,r){return a("span",[d.find(function(a){return a.value==t}).label])}},{title:"PayStatus",dataIndex:"pay_status",width:150,customRender:function(t,e,r){return a("span",[l.find(function(a){return a.value==t}).label])}},{title:"GuestInfo",dataIndex:"guest_info",scopedSlots:{customRender:"guest_info"},width:400},{title:"GuestContact",dataIndex:"guest_contact",scopedSlots:{customRender:"guest_contact"},width:400},{title:"Create at",dataIndex:"create_at",scopedSlots:{customRender:"create_at"},width:200},{title:"Guest Remark",dataIndex:"guest_remark",scopedSlots:{customRender:"guest_remark"},width:400},{title:"Operator",dataIndex:"operator",width:150},{title:"Action",dataIndex:"action",scopedSlots:{customRender:"action"},width:100,fixed:"right"}],loadData:function(a){return Object(s["d"])(Object.assign(a,t.queryParam)).then(function(t){return t.result})}}},methods:{handleCreate:function(t){this.$router.push({name:"VariantCreate"})},handleChangeDay:function(t){this.day=t.format("YYYY-MM-DD")}}},u=i,c=(e("2b1f"),e("2877")),m=Object(c["a"])(u,r,n,!1,null,null,null);a["default"]=m.exports},f8b7:function(t,a,e){"use strict";e.d(a,"a",function(){return o}),e.d(a,"d",function(){return s}),e.d(a,"c",function(){return d}),e.d(a,"e",function(){return l}),e.d(a,"b",function(){return i});var r=e("365c"),n=e("b775");function o(t){return Object(n["b"])({url:r["a"].checkout,method:"post",data:t})}function s(t){return Object(n["b"])({url:r["a"].order,method:"get",params:t})}function d(t){return Object(n["b"])({url:r["a"].order+"".concat(t,"/"),method:"get"})}function l(t,a){return Object(n["b"])({url:r["a"].order+"".concat(t,"/"),method:"put",data:a})}function i(t){return Object(n["b"])({url:r["a"].order,method:"post",data:t})}}}]);