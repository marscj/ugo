(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b8df676"],{"02bf":function(t,a,e){"use strict";var r=e("abb5"),o=e.n(r);o.a},"2b1b":function(t,a,e){"use strict";e.d(a,"c",function(){return i}),e.d(a,"b",function(){return s}),e.d(a,"d",function(){return l}),e.d(a,"a",function(){return m});var r=e("365c"),o=e("b775");function i(t){return Object(o["b"])({url:r["a"].booking,method:"get",params:t})}function s(t){return Object(o["b"])({url:r["a"].booking+"".concat(t,"/"),method:"get"})}function l(t,a){return Object(o["b"])({url:r["a"].booking+"".concat(t,"/"),method:"put",data:a})}function m(t){return Object(o["b"])({url:r["a"].booking,method:"post",data:t})}},3019:function(t,a,e){},"4d3c":function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-form",{attrs:{form:t.form}},[e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Product"}},[e("a-input",{attrs:{placeholder:"Product Name"},model:{value:t.form.product,callback:function(a){t.$set(t.form,"product",a)},expression:"form.product"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Action Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},model:{value:t.form.action_date,callback:function(a){t.$set(t.form,"action_date",a)},expression:"form.action_date"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Action Time"}},[e("a-time-picker",{staticStyle:{width:"100%"},attrs:{format:"HH:mm"},model:{value:t.form.action_time,callback:function(a){t.$set(t.form,"action_time",a)},expression:"form.action_time"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Booking Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.form.booking_date,callback:function(a){t.$set(t.form,"booking_date",a)},expression:"form.booking_date"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Supplier"}},[e("a-input",{attrs:{placeholder:"Supplier Name"},model:{value:t.form.supplier,callback:function(a){t.$set(t.form,"supplier",a)},expression:"form.supplier"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Status"},on:{change:function(){}}},[e("a-select",{attrs:{filterOption:!1},model:{value:t.form.status,callback:function(a){t.$set(t.form,"status",a)},expression:"form.status"}},t._l(t.BookingStatus,function(a){return e("a-select-option",{key:a.value},[t._v(t._s(a.label))])}),1)],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Adult/Pax"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:t.form.quantity,callback:function(a){t.$set(t.form,"quantity",a)},expression:"form.quantity"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Child/Pax"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.child_quantity,callback:function(a){t.$set(t.form,"child_quantity",a)},expression:"form.child_quantity"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Free/Pax"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.free_quantity,callback:function(a){t.$set(t.form,"free_quantity",a)},expression:"form.free_quantity"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Adult/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.price,callback:function(a){t.$set(t.form,"price",a)},expression:"form.price"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Child/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.child_price,callback:function(a){t.$set(t.form,"child_price",a)},expression:"form.child_price"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Total/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{disabled:"",min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.total_price,callback:function(a){t.$set(t.form,"total_price",a)},expression:"form.total_price"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:4,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Adult/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.cost_price,callback:function(a){t.$set(t.form,"cost_price",a)},expression:"form.cost_price"}})],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Child/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.child_cost_price,callback:function(a){t.$set(t.form,"child_cost_price",a)},expression:"form.child_cost_price"}})],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Vat"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.vat,callback:function(a){t.$set(t.form,"vat",a)},expression:"form.vat"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Total/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{disabled:"",min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.total_cost_price,callback:function(a){t.$set(t.form,"total_cost_price",a)},expression:"form.total_cost_price"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Pickup Time"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD HH:mm",showTime:""},model:{value:t.form.pick_up_time,callback:function(a){t.$set(t.form,"pick_up_time",a)},expression:"form.pick_up_time"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Pickup Address"}},[e("a-input",{attrs:{placeholder:"Pickup Address"},model:{value:t.form.pick_up_address,callback:function(a){t.$set(t.form,"pick_up_address",a)},expression:"form.pick_up_address"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Dropoff Address"}},[e("a-input",{attrs:{placeholder:"Dropoff Address"},model:{value:t.form.drop_off_address,callback:function(a){t.$set(t.form,"drop_off_address",a)},expression:"form.drop_off_address"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Vehicle "}},[e("a-input",{attrs:{placeholder:"Traffic Plate No."},model:{value:t.form.vehicle,callback:function(a){t.$set(t.form,"vehicle",a)},expression:"form.vehicle"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Model"}},[e("a-input",{attrs:{placeholder:"Model Name"},model:{value:t.form.vehicle_model,callback:function(a){t.$set(t.form,"vehicle_model",a)},expression:"form.vehicle_model"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Driver"}},[e("a-input",{attrs:{placeholder:"Name",min:1},model:{value:t.form.driver,callback:function(a){t.$set(t.form,"driver",a)},expression:"form.driver"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Mobile"}},[e("a-input",{attrs:{placeholder:"Moblie",min:0},model:{value:t.form.driver_mobile,callback:function(a){t.$set(t.form,"driver_mobile",a)},expression:"form.driver_mobile"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Tourguide"}},[e("a-input",{attrs:{placeholder:"Name",min:1},model:{value:t.form.guide,callback:function(a){t.$set(t.form,"guide",a)},expression:"form.guide"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Mobile"}},[e("a-input",{attrs:{placeholder:"Moblie",min:0},model:{value:t.form.guide_mobile,callback:function(a){t.$set(t.form,"guide_mobile",a)},expression:"form.guide_mobile"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Ref"}},[e("a-textarea",{attrs:{autosize:{minRows:5}},model:{value:t.form.ref,callback:function(a){t.$set(t.form,"ref",a)},expression:"form.ref"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Remark"}},[e("a-textarea",{attrs:{autosize:{minRows:5}},model:{value:t.form.remark,callback:function(a){t.$set(t.form,"remark",a)},expression:"form.remark"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[t.isEdit?e("a-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("Update")]):e("a-button",{attrs:{type:"primary"},on:{click:t.create}},[t._v("Create")])],1)],1)],1)},o=[],i=(e("c5f6"),e("c1df")),s=e.n(i),l=[{value:1,label:"Inquiry"},{value:2,label:"Confirm"},{value:3,label:"Padding"},{value:4,label:"Email-Sent"},{value:5,label:"OP-Cancelled"},{value:6,label:"OP-Approved"}],m={props:{isEdit:{type:Boolean,default:!1}},mounted:function(){this.isEdit||this.initData(this.$route.query)},watch:{form:{deep:!0,handler:function(t,a){this.form.total_price=Number(this.form.quantity||0)*Number(this.form.price||0)+Number(this.form.child_quantity||0)*Number(this.form.child_price||0),this.form.total_cost_price=Number(this.form.quantity||0)*Number(this.form.cost_price||0)+Number(this.form.child_quantity||0)*Number(this.form.child_cost_price||0)+Number(this.form.vat||0)}}},data:function(){return{BookingStatus:l,loading:!1,spinning:!1,form:{id:void 0,product:"",category:2,action_date:null,action_time:null,booking_date:null,supplier:"",status:1,quantity:0,child_quantity:0,free_quantity:0,price:0,child_price:0,total_price:0,cost_price:0,child_cost_price:0,total_cost_price:0,vat:0,pick_up_time:null,pick_up_address:null,drop_off_address:null,vehicle_model:null,vehicle_no:null,driver:null,driver_mobile:null,guide:null,guide_mobile:null,remark:"",ref:"",order_id:void 0}}},methods:{initData:function(t){this.form=Object.assign(this.form,{product:t.product+" - "+t.variant,action_date:t.day?s()(t.day,"YYYY-MM-DD"):null,action_time:t.time?s()(t.time,"HH:mm"):null,booking_date:t.create_at?s()(t.create_at,"YYYY-MM-DD"):null,quantity:Number(t.adult_quantity),child_quantity:Number(t.child_quantity),price:Number(t.adult_price),child_price:Number(t.child_price),total_price:Number(t.total),operator:t.operator,order_id:Number(t.orderID)})},updateDateTime:function(t){return{action_date:t.action_date?s()(t.action_date,"YYYY-MM-DD"):null,action_time:t.action_time?s()(t.action_time,"HH:mm"):null,booking_date:t.booking_date?s()(t.booking_date,"YYYY-MM-DD"):null,pick_up_time:t.pick_up_time?s()(t.pick_up_time,"YYYY-MM-DD HH:mm"):null}},translateDate:function(t){return{action_date:t.action_date?t.action_date.format("YYYY-MM-DD"):null,action_time:t.action_time?t.action_time.format("HH:mm"):null,booking_date:t.booking_date?t.booking_date.format("YYYY-MM-DD"):null,pick_up_time:t.pick_up_time?t.pick_up_time.format("YYYY-MM-DD HH:mm"):null}},onFetch:function(t){this.form=Object.assign(t,this.updateDateTime(t))},create:function(){var t=Object.assign({},this.form,this.translateDate(this.form));this.$emit("create",t)},update:function(){var t=Object.assign({},this.form,this.translateDate(this.form));this.$emit("update",t)},onUpdate:function(t){this.form=Object.assign(t,this.updateDateTime(t))}}},n=m,c=(e("e1fe"),e("2877")),f=Object(c["a"])(n,r,o,!1,null,null,null);a["a"]=f.exports},"518f":function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-form",{attrs:{form:t.form}},[e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Itinerary & Vehicle"}},[e("a-input",{attrs:{placeholder:"Itinerary"},model:{value:t.form.product,callback:function(a){t.$set(t.form,"product",a)},expression:"form.product"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Start Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},model:{value:t.form.start_date,callback:function(a){t.$set(t.form,"start_date",a)},expression:"form.start_date"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"End Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},model:{value:t.form.end_date,callback:function(a){t.$set(t.form,"end_date",a)},expression:"form.end_date"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Booking Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.form.booking_date,callback:function(a){t.$set(t.form,"booking_date",a)},expression:"form.booking_date"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Status"},on:{change:function(){}}},[e("a-select",{attrs:{filterOption:!1},model:{value:t.form.status,callback:function(a){t.$set(t.form,"status",a)},expression:"form.status"}},t._l(t.BookingStatus,function(a){return e("a-select-option",{key:a.value},[t._v(t._s(a.label))])}),1)],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Pax"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:t.form.quantity,callback:function(a){t.$set(t.form,"quantity",a)},expression:"form.quantity"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Pax/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.price,callback:function(a){t.$set(t.form,"price",a)},expression:"form.price"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Pax/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.cost_price,callback:function(a){t.$set(t.form,"cost_price",a)},expression:"form.cost_price"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Total/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{disabled:"",min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.total_price,callback:function(a){t.$set(t.form,"total_price",a)},expression:"form.total_price"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Total/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{disabled:"",min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.total_cost_price,callback:function(a){t.$set(t.form,"total_cost_price",a)},expression:"form.total_cost_price"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Vehicle "}},[e("a-input",{attrs:{placeholder:"Traffic Plate No."},model:{value:t.form.vehicle,callback:function(a){t.$set(t.form,"vehicle",a)},expression:"form.vehicle"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Model"}},[e("a-input",{attrs:{placeholder:"Model Name"},model:{value:t.form.vehicle_model,callback:function(a){t.$set(t.form,"vehicle_model",a)},expression:"form.vehicle_model"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Driver"}},[e("a-input",{attrs:{placeholder:"Name",min:1},model:{value:t.form.driver,callback:function(a){t.$set(t.form,"driver",a)},expression:"form.driver"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Mobile"}},[e("a-input",{attrs:{placeholder:"Moblie",min:0},model:{value:t.form.driver_mobile,callback:function(a){t.$set(t.form,"driver_mobile",a)},expression:"form.driver_mobile"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Tourguide"}},[e("a-input",{attrs:{placeholder:"Name",min:1},model:{value:t.form.guide,callback:function(a){t.$set(t.form,"guide",a)},expression:"form.guide"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Mobile"}},[e("a-input",{attrs:{placeholder:"Moblie",min:0},model:{value:t.form.guide_mobile,callback:function(a){t.$set(t.form,"guide_mobile",a)},expression:"form.guide_mobile"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Itinerary"}},[e("a-textarea",{attrs:{autosize:{minRows:5}},model:{value:t.form.itinerary,callback:function(a){t.$set(t.form,"itinerary",a)},expression:"form.itinerary"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Remark"}},[e("a-textarea",{attrs:{autosize:{minRows:5}},model:{value:t.form.remark,callback:function(a){t.$set(t.form,"remark",a)},expression:"form.remark"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:2,offset:3}},[t.isEdit?e("a-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("Update")]):e("a-button",{attrs:{type:"primary"},on:{click:t.create}},[t._v("Create")])],1),t.isEdit?e("a-col",{attrs:{span:2}},[t.$auth("Booking.add")?e("a-dropdown",[e("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},t._l(t.Category,function(a){return e("a-menu-item",{key:a.value},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.hanldeBooking(a.value)}}},[e("icon-font",{attrs:{type:a.type}}),t._v("\n              "+t._s(a.label)+"\n            ")],1)])}),1),e("a-button",{attrs:{type:"primary"}},[t._v("Add Related Booking")])],1):t._e()],1):t._e()],1)],1)},o=[],i=(e("c5f6"),e("c1df")),s=e.n(i),l=e("0c63"),m=[{value:1,label:"Inquiry"},{value:2,label:"Confirm"},{value:3,label:"Padding"},{value:4,label:"Email-Sent"},{value:5,label:"OP-Cancelled"},{value:6,label:"OP-Approved"}],n=l["a"].createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1402881_gsh78a0lnya.js"}),c=[{value:1,label:"Restaurant",type:"iconf-30"},{value:2,label:"Tour",type:"iconticket"},{value:4,label:"Hotel",type:"iconhotel"}],f={props:{isEdit:{type:Boolean,default:!1}},components:{IconFont:n},mounted:function(){this.isEdit||this.initData(this.$route.query)},watch:{form:{deep:!0,handler:function(t,a){this.form.total_price=Number(this.form.quantity||0)*Number(this.form.price||0),this.form.total_cost_price=Number(this.form.quantity||0)*Number(this.form.cost_price||0)}}},data:function(){return{BookingStatus:m,Category:c,form:{id:void 0,product:"",category:3,start_date:null,end_date:null,booking_date:null,supplier:"",status:1,quantity:0,price:0,cost_price:0,total_price:0,total_cost_price:0,vehicle_model:null,vehicle_no:null,driver:null,driver_mobile:null,guide:null,guide_mobile:null,remark:"",ref:"",order_id:void 0}}},methods:{initData:function(t){this.form=Object.assign(this.form,{product:t.product+" - "+t.variant,start_date:t.day?s()(t.day,"YYYY-MM-DD"):null,booking_date:t.create_at?s()(t.create_at,"YYYY-MM-DD"):null,quantity:Number(t.adult_quantity),price:Number(t.adult_price),total_price:Number(t.total),operator:t.operator,order_id:Number(t.orderID)})},updateDateTime:function(t){return{start_date:t.start_date?s()(t.start_date,"YYYY-MM-DD"):null,end_date:t.end_date?s()(t.end_date,"YYYY-MM-DD"):null,booking_date:t.booking_date?s()(t.booking_date,"YYYY-MM-DD"):null}},translateDate:function(t){return{start_date:t.start_date?t.start_date.format("YYYY-MM-DD"):null,end_date:t.end_date?t.end_date.format("YYYY-MM-DD"):null,booking_date:t.booking_date?t.booking_date.format("YYYY-MM-DD"):null}},onFetch:function(t){this.form=Object.assign(t,this.updateDateTime(t))},create:function(){var t=Object.assign({},this.form,this.translateDate(this.form));this.$emit("create",t)},update:function(){var t=Object.assign({},this.form,this.translateDate(this.form));this.$emit("update",t)},onUpdate:function(t){this.form=Object.assign(t,this.updateDateTime(t))},hanldeBooking:function(t){var a=this.$router.resolve({name:"BookingCreate",query:Object.assign({type:t},{product:"",variant:"",create_at:this.form.booking_date?this.form.booking_date.format("YYYY-MM-DD"):null,adult_quantity:this.form.quantity,child_quantity:0,adult_price:0,child_price:0,total:0,operator:this.form.operator,orderID:this.form.order_id})});window.open(a.href,"_blank")}}},u=f,d=(e("a113"),e("2877")),p=Object(d["a"])(u,r,o,!1,null,null,null);a["a"]=p.exports},"6e5f":function(t,a,e){"use strict";var r=e("982d"),o=e.n(r);o.a},"982d":function(t,a,e){},a113:function(t,a,e){"use strict";var r=e("da5e"),o=e.n(r);o.a},abb5:function(t,a,e){},af3a:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-form",{attrs:{form:t.form}},[e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Restaurant&Meal"}},[e("a-input",{attrs:{placeholder:"Product Name"},model:{value:t.form.product,callback:function(a){t.$set(t.form,"product",a)},expression:"form.product"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Action Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},model:{value:t.form.action_date,callback:function(a){t.$set(t.form,"action_date",a)},expression:"form.action_date"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Action Time"}},[e("a-time-picker",{staticStyle:{width:"100%"},attrs:{format:"HH:mm"},model:{value:t.form.action_time,callback:function(a){t.$set(t.form,"action_time",a)},expression:"form.action_time"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Booking Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.form.booking_date,callback:function(a){t.$set(t.form,"booking_date",a)},expression:"form.booking_date"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Status"},on:{change:function(){}}},[e("a-select",{attrs:{filterOption:!1},model:{value:t.form.status,callback:function(a){t.$set(t.form,"status",a)},expression:"form.status"}},t._l(t.BookingStatus,function(a){return e("a-select-option",{key:a.value},[t._v(t._s(a.label))])}),1)],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Adult/Pax"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:t.form.quantity,callback:function(a){t.$set(t.form,"quantity",a)},expression:"form.quantity"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Child/Pax"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.child_quantity,callback:function(a){t.$set(t.form,"child_quantity",a)},expression:"form.child_quantity"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Free/Pax"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.free_quantity,callback:function(a){t.$set(t.form,"free_quantity",a)},expression:"form.free_quantity"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Adult/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.price,callback:function(a){t.$set(t.form,"price",a)},expression:"form.price"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Child/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.child_price,callback:function(a){t.$set(t.form,"child_price",a)},expression:"form.child_price"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Total/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{disabled:"",min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.total_price,callback:function(a){t.$set(t.form,"total_price",a)},expression:"form.total_price"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:4,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Adult/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.cost_price,callback:function(a){t.$set(t.form,"cost_price",a)},expression:"form.cost_price"}})],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Child/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.child_cost_price,callback:function(a){t.$set(t.form,"child_cost_price",a)},expression:"form.child_cost_price"}})],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Vat"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.vat,callback:function(a){t.$set(t.form,"vat",a)},expression:"form.vat"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Total/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{disabled:"",min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.total_cost_price,callback:function(a){t.$set(t.form,"total_cost_price",a)},expression:"form.total_cost_price"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Tourguide"}},[e("a-input",{attrs:{placeholder:"Name",min:1},model:{value:t.form.guide,callback:function(a){t.$set(t.form,"guide",a)},expression:"form.guide"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Mobile"}},[e("a-input",{attrs:{placeholder:"Moblie",min:0},model:{value:t.form.guide_mobile,callback:function(a){t.$set(t.form,"guide_mobile",a)},expression:"form.guide_mobile"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Ref"}},[e("a-textarea",{attrs:{autosize:{minRows:5}},model:{value:t.form.ref,callback:function(a){t.$set(t.form,"ref",a)},expression:"form.ref"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Remark"}},[e("a-textarea",{attrs:{autosize:{minRows:5}},model:{value:t.form.remark,callback:function(a){t.$set(t.form,"remark",a)},expression:"form.remark"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[t.isEdit?e("a-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("Update")]):e("a-button",{attrs:{type:"primary"},on:{click:t.create}},[t._v("Create")])],1)],1)],1)},o=[],i=(e("c5f6"),e("c1df")),s=e.n(i),l=[{value:1,label:"Inquiry"},{value:2,label:"Confirm"},{value:3,label:"Padding"},{value:4,label:"Email-Sent"},{value:5,label:"OP-Cancelled"},{value:6,label:"OP-Approved"}],m={props:{isEdit:{type:Boolean,default:!1}},mounted:function(){this.isEdit||this.initData(this.$route.query)},watch:{form:{deep:!0,handler:function(t,a){this.form.total_price=Number(this.form.quantity||0)*Number(this.form.price||0)+Number(this.form.child_quantity||0)*Number(this.form.child_price||0),this.form.total_cost_price=Number(this.form.quantity||0)*Number(this.form.cost_price||0)+Number(this.form.child_quantity||0)*Number(this.form.child_cost_price||0)+Number(this.form.vat||0)}}},data:function(){return{BookingStatus:l,loading:!1,spinning:!1,form:{id:void 0,product:"",category:1,action_date:null,action_time:null,booking_date:null,status:1,quantity:0,child_quantity:0,free_quantity:0,price:0,child_price:0,total_price:0,cost_price:0,child_cost_price:0,total_cost_price:0,vat:0,guide:null,guide_mobile:null,remark:"",ref:"",order_id:void 0}}},methods:{initData:function(t){this.form=Object.assign(this.form,{product:t.product+" - "+t.variant,action_date:t.day?s()(t.day,"YYYY-MM-DD"):null,action_time:t.time?s()(t.time,"HH:mm"):null,booking_date:t.create_at?s()(t.create_at,"YYYY-MM-DD"):null,quantity:Number(t.adult_quantity),child_quantity:Number(t.child_quantity),price:Number(t.adult_price),child_price:Number(t.child_price),total_price:Number(t.total),operator:t.operator,order_id:Number(t.orderID)})},updateDateTime:function(t){return{action_date:t.action_date?s()(t.action_date,"YYYY-MM-DD"):null,action_time:t.action_time?s()(t.action_time,"HH:mm"):null,booking_date:t.booking_date?s()(t.booking_date,"YYYY-MM-DD"):null}},translateDate:function(t){return{action_date:t.action_date?t.action_date.format("YYYY-MM-DD"):null,action_time:t.action_time?t.action_time.format("HH:mm"):null,booking_date:t.booking_date?t.booking_date.format("YYYY-MM-DD"):null}},onFetch:function(t){this.form=Object.assign(t,this.updateDateTime(t))},create:function(){var t=Object.assign({},this.form,this.translateDate(this.form));this.$emit("create",t)},update:function(){var t=Object.assign({},this.form,this.translateDate(this.form));this.$emit("update",t)},onUpdate:function(t){this.form=Object.assign(t,this.updateDateTime(t))}}},n=m,c=(e("02bf"),e("2877")),f=Object(c["a"])(n,r,o,!1,null,null,null);a["a"]=f.exports},b02a:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-form",{attrs:{form:t.form}},[e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Hotel"}},[e("a-input",{attrs:{placeholder:"Hotel Name"},model:{value:t.form.product,callback:function(a){t.$set(t.form,"product",a)},expression:"form.product"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"CheckIn Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},model:{value:t.form.start_date,callback:function(a){t.$set(t.form,"start_date",a)},expression:"form.start_date"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"CheckOut Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},model:{value:t.form.end_date,callback:function(a){t.$set(t.form,"end_date",a)},expression:"form.end_date"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Booking Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.form.booking_date,callback:function(a){t.$set(t.form,"booking_date",a)},expression:"form.booking_date"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Payment Due Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.form.payment_due_date,callback:function(a){t.$set(t.form,"payment_due_date",a)},expression:"form.payment_due_date"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Room Update"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.form.room_update,callback:function(a){t.$set(t.form,"room_update",a)},expression:"form.room_update"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Emailed"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.form.emailed,callback:function(a){t.$set(t.form,"emailed",a)},expression:"form.emailed"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Cancel Date"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.form.cancel_date,callback:function(a){t.$set(t.form,"cancel_date",a)},expression:"form.cancel_date"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Status"}},[e("a-select",{attrs:{filterOption:!1},model:{value:t.form.status,callback:function(a){t.$set(t.form,"status",a)},expression:"form.status"}},t._l(t.RoomStatus,function(a){return e("a-select-option",{key:a.value},[t._v(t._s(a.label))])}),1)],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:6,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Rooms"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.rooms,callback:function(a){t.$set(t.form,"rooms",a)},expression:"form.rooms"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Nights"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.nights,callback:function(a){t.$set(t.form,"nights",a)},expression:"form.nights"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Blocked Rooms"}},[e("a-input",{attrs:{disabled:""},model:{value:t.form.blocked_room,callback:function(a){t.$set(t.form,"blocked_room",a)},expression:"form.blocked_room"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:1,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"SGL"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.sgl,callback:function(a){t.$set(t.form,"sgl",a)},expression:"form.sgl"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"SGL/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.sgl_price,callback:function(a){t.$set(t.form,"sgl_price",a)},expression:"form.sgl_price"}})],1)],1),e("a-col",{attrs:{span:1}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"DBL"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.dbl,callback:function(a){t.$set(t.form,"dbl",a)},expression:"form.dbl"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"DBL/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.dbl_price,callback:function(a){t.$set(t.form,"dbl_price",a)},expression:"form.dbl_price"}})],1)],1),e("a-col",{attrs:{span:1}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"TWN"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.twn,callback:function(a){t.$set(t.form,"twn",a)},expression:"form.twn"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"TWN/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.twn_price,callback:function(a){t.$set(t.form,"twn_price",a)},expression:"form.twn_price"}})],1)],1),e("a-col",{attrs:{span:1}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"TPL"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.tpl,callback:function(a){t.$set(t.form,"tpl",a)},expression:"form.tpl"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"TPL/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.tpl_price,callback:function(a){t.$set(t.form,"tpl_price",a)},expression:"form.tpl_price"}})],1)],1),e("a-col",{attrs:{span:1}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"EXB"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.form.exb,callback:function(a){t.$set(t.form,"exb",a)},expression:"form.exb"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"EXB/SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.exb_price,callback:function(a){t.$set(t.form,"exb_price",a)},expression:"form.exb_price"}})],1)],1),e("a-col",{attrs:{span:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Total SP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:t.form.total_price,callback:function(a){t.$set(t.form,"total_price",a)},expression:"form.total_price"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:2,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"SGL/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.sgl_cost_price,callback:function(a){t.$set(t.form,"sgl_cost_price",a)},expression:"form.sgl_cost_price"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"DBL/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.dbl_cost_price,callback:function(a){t.$set(t.form,"dbl_cost_price",a)},expression:"form.dbl_cost_price"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"TWN/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.twn_cost_price,callback:function(a){t.$set(t.form,"twn_cost_price",a)},expression:"form.twn_cost_price"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"TPL/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.tpl_cost_price,callback:function(a){t.$set(t.form,"tpl_cost_price",a)},expression:"form.tpl_cost_price"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"EXB/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.exb_cost_price,callback:function(a){t.$set(t.form,"exb_cost_price",a)},expression:"form.exb_cost_price"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Child/CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.child_cost_price,callback:function(a){t.$set(t.form,"child_cost_price",a)},expression:"form.child_cost_price"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Tourism Fees"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.tourism_fees,callback:function(a){t.$set(t.form,"tourism_fees",a)},expression:"form.tourism_fees"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Vat"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:0,defaultValue:0,precision:2,step:.5},model:{value:t.form.vat,callback:function(a){t.$set(t.form,"vat",a)},expression:"form.vat"}})],1)],1),e("a-col",{attrs:{span:2}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Total CP"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:t.form.total_cost_price,callback:function(a){t.$set(t.form,"total_cost_price",a)},expression:"form.total_cost_price"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Upload/RoomList"}})],1),e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Upload/ConfList"}})],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:18,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Cancellation Policy"}},[e("a-textarea",{model:{value:t.form.cancel_policy,callback:function(a){t.$set(t.form,"cancel_policy",a)},expression:"form.cancel_policy"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Ref"}},[e("a-textarea",{attrs:{autosize:{minRows:5}},model:{value:t.form.ref,callback:function(a){t.$set(t.form,"ref",a)},expression:"form.ref"}})],1)],1),e("a-col",{attrs:{span:9}},[e("a-form-item",{staticClass:"form-item",attrs:{label:"Remark"}},[e("a-textarea",{attrs:{autosize:{minRows:5}},model:{value:t.form.remark,callback:function(a){t.$set(t.form,"remark",a)},expression:"form.remark"}})],1)],1)],1),e("a-row",{attrs:{gutter:18}},[e("a-col",{attrs:{span:9,offset:3}},[t.isEdit?e("a-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("Update")]):e("a-button",{attrs:{type:"primary"},on:{click:t.create}},[t._v("Create")])],1)],1)],1)},o=[],i=(e("c5f6"),e("2b1b"),e("c1df")),s=e.n(i),l=[{value:1,label:"Inquiry"},{value:2,label:"Confirm"},{value:3,label:"Room_Blocked"},{value:4,label:"Email_Sent"},{value:5,label:"OP-Cancelled"},{value:6,label:"Roomlist_Sent"},{value:7,label:"Inquriy_Sent"},{value:8,label:"AC_Paid"},{value:9,label:"AC_Panding"}],m={props:{isEdit:{type:Boolean,default:!1}},mounted:function(){this.isEdit||this.initData(this.$route.query)},watch:{form:{deep:!0,handler:function(t,a){this.formatBlockedRooms(),this.form.total_price=Number(this.form.sgl||0)*Number(this.form.sgl_price||0)+Number(this.form.dbl||0)*Number(this.form.dbl_price||0)+Number(this.form.twn||0)*Number(this.form.twn_price||0)+Number(this.form.tpl||0)*Number(this.form.tpl_price||0)+Number(this.form.exb||0)*Number(this.form.exb_price||0),this.form.total_cost_price=Number(this.form.sgl||0)*Number(this.form.sgl_cost_price||0)+Number(this.form.dbl||0)*Number(this.form.dbl_cost_price||0)+Number(this.form.twn||0)*Number(this.form.twn_cost_price||0)+Number(this.form.tpl||0)*Number(this.form.tpl_cost_price||0)+Number(this.form.exb||0)*Number(this.form.exb_cost_price||0)+Number(this.form.child_cost_price||0)+Number(this.form.tourism_fees||0)+Number(this.form.vat||0)}}},data:function(){return{RoomStatus:l,loading:!1,spinning:!1,form:{id:void 0,product:"",category:4,start_date:null,end_date:null,booking_date:null,payment_due_date:null,room_update:null,emailed:null,cancel_date:null,status:1,rooms:0,nights:0,blocked_room:"",used_room:"",sgl:0,sgl_price:0,sgl_cost_price:0,dbl:0,dbl_price:0,dbl_cost_price:0,twn:0,twn_price:0,twn_cost_price:0,tpl:0,tpl_price:0,tpl_cost_price:0,exb:0,exb_price:0,exb_cost_price:0,child_cost_price:0,tourism_fees:0,vat:0,total_price:0,total_cost_price:0,conf_list:null,room_list:null,remark:"",ref:"",order_id:void 0}}},methods:{formatBlockedRooms:function(){var t="";this.form.sgl&&(t=t.concat("SGL-"+this.form.sgl+" ")),this.form.dbl&&(t=t.concat("DBL-"+this.form.dbl+" ")),this.form.twn&&(t=t.concat("TWN-"+this.form.twn+" ")),this.form.tpl&&(t=t.concat("TPL-"+this.form.tpl+" ")),this.form.exb&&(t=t.concat("EXB-"+this.form.exb+" ")),this.form.blocked_room=t},initData:function(t){this.form=Object.assign(this.form,{product:t.product+" - "+t.variant,booking_date:t.create_at?s()(t.create_at,"YYYY-MM-DD"):null,operator:t.operator,order_id:Number(t.orderID)})},updateDateTime:function(t){return{start_date:t.start_date?s()(t.start_date,"YYYY-MM-DD"):null,end_date:t.end_date?s()(t.end_date,"YYYY-MM-DD"):null,booking_date:t.booking_date?s()(t.booking_date,"YYYY-MM-DD"):null,payment_due_date:t.payment_due_date?s()(t.payment_due_date,"YYYY-MM-DD"):null,room_update:t.room_update?s()(t.room_update,"YYYY-MM-DD"):null,emailed:t.emailed?s()(t.emailed,"YYYY-MM-DD"):null,cancel_date:t.cancel_date?s()(t.cancel_date,"YYYY-MM-DD"):null}},translateDate:function(t){return{start_date:t.start_date?t.start_date.format("YYYY-MM-DD"):null,end_date:t.end_date?t.end_date.format("YYYY-MM-DD"):null,booking_date:t.booking_date?t.booking_date.format("YYYY-MM-DD"):null,payment_due_date:t.payment_due_date?t.payment_due_date.format("YYYY-MM-DD"):null,room_update:t.room_update?t.room_update.format("YYYY-MM-DD"):null,emailed:t.emailed?t.emailed.format("YYYY-MM-DD"):null,cancel_date:t.cancel_date?t.cancel_date.format("YYYY-MM-DD"):null}},onFetch:function(t){this.form=Object.assign(t,this.updateDateTime(t))},create:function(){var t=Object.assign({},this.form,this.translateDate(this.form));this.$emit("create",t)},update:function(){var t=Object.assign({},this.form,this.translateDate(this.form));this.$emit("update",t)},onUpdate:function(t){this.form=Object.assign(t,this.updateDateTime(t))}}},n=m,c=(e("6e5f"),e("2877")),f=Object(c["a"])(n,r,o,!1,null,null,null);a["a"]=f.exports},da5e:function(t,a,e){},e1fe:function(t,a,e){"use strict";var r=e("3019"),o=e.n(r);o.a}}]);