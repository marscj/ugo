(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a2bae57"],{"2e2d":function(t,e,a){},"3f31":function(t,e,a){"use strict";var r=a("2e2d"),n=a.n(r);n.a},c117:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header-index-wide page-header-wrapper-grid-content-main"},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:24,lg:7}},[a("a-card",{attrs:{bordered:!0}},[a("a-form",{attrs:{form:t.form,layout:"vertical"}},[a("a-form-item",{staticStyle:{margin:"0px",padding:"0px"},attrs:{label:"用户名:",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[t._v(t._s(t.form.username))]),a("a-form-item",{staticStyle:{margin:"0px",padding:"0px"},attrs:{label:"额度:",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[t._v(t._s(t.form.balance)+" $")])],1)],1)],1),a("a-col",{attrs:{md:24,lg:17}},[a("order-list")],1)],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{attrs:{bordered:!0,title:"订单列表"}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{xs:6,md:8,sm:16}},[a("a-form-item",{attrs:{label:"Search"}},[a("a-input",{attrs:{placeholder:"OrderID, ConfirmID, Variant, Customer, Operator"},model:{value:t.queryParam.search,callback:function(e){t.$set(t.queryParam,"search",e)},expression:"queryParam.search"}})],1)],1),a("a-col",{attrs:{xs:6,md:8,sm:16}},[a("a-form-item",{attrs:{label:"Day"}},[a("a-range-picker",{attrs:{value:t.day},on:{change:function(e){return t.day=e}}})],1)],1),a("a-col",{attrs:{xs:6,md:8,sm:16}},[a("a-form-item",{attrs:{label:"Order Status"}},[a("a-select",{attrs:{value:t.queryParam.order_status,filterOption:!1},on:{change:function(e){return t.queryParam.order_status=e}}},t._l(t.orderStatus,function(e){return a("a-select-option",{key:e.value},[t._v(t._s(e.label))])}),1)],1)],1)],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(t){return t.id},columns:t.columns,data:t.loadData,bordered:"",fixed:"",scroll:{x:3200}},scopedSlots:t._u([{key:"guest_remark",fn:function(e){return a("span",{staticStyle:{"word-warp":"break-word","word-break":"break-all"}},[a("ellipsis",{attrs:{length:200,tooltip:""}},[t._v(t._s(e))])],1)}},{key:"variant",fn:function(e){return a("span",{staticStyle:{"word-warp":"break-word","word-break":"break-all"}},[a("ellipsis",{attrs:{length:60,tooltip:""}},[t._v(t._s(e))])],1)}},{key:"guest_info",fn:function(e){return a("span",{staticStyle:{"word-warp":"break-word","word-break":"break-all"}},[a("ellipsis",{attrs:{length:160,tooltip:""}},[t._v(t._s(e))])],1)}},{key:"guest_contact",fn:function(e){return a("span",{staticStyle:{"word-warp":"break-word","word-break":"break-all"}},[a("ellipsis",{attrs:{length:160,tooltip:""}},[t._v(t._s(e))])],1)}},{key:"create_at",fn:function(e){return a("span",{},[[a("span",[t._v(t._s(t._f("moment")(e,"YYYY-MM-DD HH:mm")))])]],2)}},{key:"action",fn:function(e,r){return a("span",{},[[a("router-link",{attrs:{to:{name:"OrderDetail",query:r}}},[t._v("详情")])]],2)}}])})],1)},d=[],s=a("2af9"),l=a("f8b7"),i=[{value:0,label:"新建"},{value:1,label:"订单已确认"},{value:2,label:"出票成功"},{value:3,label:"订单已取消"},{value:4,label:"退款中"},{value:5,label:"已退款"}],u={name:"OrderList",components:{STable:s["e"],Ellipsis:s["b"]},created:function(){var t=this;this.debouncedGetAnswer=_.debounce(function(){t.$refs.table.refresh(!0)},1e3)},watch:{queryParam:{deep:!0,handler:function(t,e){this.debouncedGetAnswer()}},day:function(t,e){null!=t&&void 0!=t&&t.length>0?(this.queryParam.start_day=t[0].format("YYYY-MM-DD"),this.queryParam.end_day=t[1].format("YYYY-MM-DD")):(this.queryParam.start_day=void 0,this.queryParam.end_day=void 0),this.$refs.table.refresh(!0)}},data:function(){var t=this,e=this.$createElement;return{orderStatus:i,day:void 0,queryParam:{orderID:void 0,order_status:void 0,start_day:void 0,end_day:void 0,variant:void 0,product:void 0,customer:void 0,operator:void 0,customer_id:this.$store.getters.userInfo.id},columns:[{key:"1",title:"订单号",dataIndex:"orderID",width:150},{title:"UGO关联单号",dataIndex:"relatedID",width:150},{title:"客户关联单号",dataIndex:"guest_relatedID",width:150},{key:"3",title:"订单状态",dataIndex:"order_status",width:150,customRender:function(t,a,r){return e("span",[i[t].label])}},{key:"4",title:"产品",dataIndex:"variant",scopedSlots:{customRender:"variant"},width:250},{key:"5",title:"日期",dataIndex:"day",width:150},{key:"6",title:"时间",dataIndex:"time",width:150},{key:"7",title:"成人数量",dataIndex:"adult_quantity",width:50},{key:"8",title:"成人价格",dataIndex:"adult_price",width:100},{key:"9",title:"儿童数量",dataIndex:"child_quantity",width:50},{key:"10",title:"儿童价格",dataIndex:"child_price",width:100},{key:"18",title:"总金额",dataIndex:"total",width:100},{key:"11",title:"客户信息",dataIndex:"guest_info",scopedSlots:{customRender:"guest_info"},width:400},{key:"12",title:"联系方式",dataIndex:"guest_contact",scopedSlots:{customRender:"guest_contact"},width:400},{key:"14",title:"操作员",dataIndex:"operator",width:150},{key:"15",title:"创建",dataIndex:"create_at",scopedSlots:{customRender:"create_at"},width:200},{key:"16",title:"客户备注",dataIndex:"guest_remark",scopedSlots:{customRender:"guest_remark"},width:400},{key:"action",title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},width:100,fixed:"right"}],loadData:function(e){return Object(l["d"])(Object.assign(e,t.queryParam)).then(function(t){return t.result})}}},methods:{handleCreate:function(t){this.$router.push({name:"VariantCreate"})}}},c=u,m=a("2877"),f=Object(m["a"])(c,o,d,!1,null,null,null),p=f.exports,h={name:"Account",components:{OrderList:p},data:function(){return{labelCol:{lg:{span:5},sm:{span:5}},wrapperCol:{lg:{span:19},sm:{span:19}},form:Object.assign({},this.$store.getters.userInfo)}},mounted:function(){},methods:{}},b=h,y=(a("3f31"),Object(m["a"])(b,r,n,!1,null,"7363d518",null));e["default"]=y.exports},f8b7:function(t,e,a){"use strict";a.d(e,"a",function(){return o}),a.d(e,"d",function(){return d}),a.d(e,"c",function(){return s}),a.d(e,"e",function(){return l}),a.d(e,"b",function(){return i});var r=a("365c"),n=a("b775");function o(t){return Object(n["b"])({url:r["a"].checkout,method:"post",data:t})}function d(t){return Object(n["b"])({url:r["a"].order,method:"get",params:t})}function s(t){return Object(n["b"])({url:r["a"].order+"".concat(t,"/"),method:"get"})}function l(t,e){return Object(n["b"])({url:r["a"].order+"".concat(t,"/"),method:"put",data:e})}function i(t){return Object(n["b"])({url:r["a"].order,method:"post",data:t})}}}]);