(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-730612b2"],{c4c8:function(e,t,a){"use strict";a.d(t,"d",function(){return o}),a.d(t,"c",function(){return c}),a.d(t,"e",function(){return i}),a.d(t,"a",function(){return l}),a.d(t,"b",function(){return s});var r=a("365c"),n=a("b775");function o(e){return Object(n["b"])({url:r["a"].product,method:"get",params:e})}function c(e){return Object(n["b"])({url:r["a"].product+"".concat(e,"/"),method:"get"})}function i(e,t){return Object(n["b"])({url:r["a"].product+"".concat(e,"/"),method:"put",data:t})}function l(e){return Object(n["b"])({url:r["a"].product,method:"post",data:e})}function s(e){return Object(n["b"])({url:r["a"].product+"".concat(e,"/"),method:"delete"})}},ca9c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{directives:[{name:"action",rawName:"v-action:query",arg:"query"}],attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:16}},[a("a-form-item",{attrs:{label:"Search"}},[a("a-input",{attrs:{placeholder:"Title or Product ID"},model:{value:e.queryParam.search,callback:function(t){e.$set(e.queryParam,"search",t)},expression:"queryParam.search"}})],1)],1),a("a-col",{attrs:{md:8,sm:16}},[a("a-form-item",{attrs:{label:"Category"}},[a("a-select",{model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},e._l(e.categoryData,function(t){return a("a-select-option",{key:t.value},[e._v(e._s(t.label))])}),1)],1)],1),a("a-col",{attrs:{md:8,sm:16}},[a("a-form-item",{attrs:{label:"Status"}},[a("a-checkbox",{attrs:{checked:e.queryParam.status},on:{change:function(t){e.queryParam.status=!e.queryParam.status}}},[e._v("上架")])],1)],1)],1)],1)],1),a("div",{staticClass:"table-operator"},[a("a-button",{directives:[{name:"action",rawName:"v-action:add",arg:"add"}],attrs:{type:"primary",icon:"plus"},on:{click:e.handleCreate}},[e._v("Add")]),e.selectedRowKeys.length>0?a("a-button",{directives:[{name:"action",rawName:"v-action:edit",arg:"edit"}],attrs:{type:"default",icon:"unlock"},on:{click:e.handleCreate}},[e._v("Unlock")]):e._e(),e.selectedRowKeys.length>0?a("a-button",{directives:[{name:"action",rawName:"v-action:edit",arg:"edit"}],attrs:{type:"dashed",icon:"lock"},on:{click:e.handleCreate}},[e._v("Lock")]):e._e(),e.selectedRowKeys.length>0?a("a-button",{directives:[{name:"action",rawName:"v-action:delete",arg:"delete"}],attrs:{type:"danger",icon:"delete"},on:{click:e.handleCreate}},[e._v("Delete")]):e._e()],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.columns,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection,bordered:""},scopedSlots:e._u([{key:"photo",fn:function(t){return a("span",{},[[t.photo?a("img",{attrs:{src:t.photo.image.thumbnail,alt:"photo"}}):e._e()]],2)}},{key:"action",fn:function(t,r){return a("span",{},[[a("router-link",{directives:[{name:"action",rawName:"v-action:edit",arg:"edit"}],attrs:{to:{name:"ProductEdit",params:{id:r.id}}}},[e._v("Edit")]),a("a-divider",{directives:[{name:"action",rawName:"v-action:edit",arg:"edit"}],attrs:{type:"vertical"}}),a("a",{directives:[{name:"action",rawName:"v-action:delete",arg:"delete"}],on:{click:function(t){return e.handleDelete(r)}}},[e._v("Delete")])]],2)}}])})],1)},n=[],o=a("2af9"),c=a("c4c8"),i=[{value:0,label:"全部"},{value:1,label:"美食"},{value:2,label:"门票"},{value:3,label:"日游"},{value:4,label:"用车"},{value:5,label:"酒店"},{value:6,label:"伴手礼"}],l={name:"ProductList",components:{STable:o["e"]},created:function(){var e=this;this.debouncedGetAnswer=_.debounce(function(){e.$refs.table.refresh(!0)},1e3)},watch:{category:function(e,t){this.queryParam.category=0==e?void 0:e,this.$refs.table.refresh(!0)},"queryParam.status":function(e,t){this.$refs.table.refresh(!0)},"queryParam.search":function(e,t){this.debouncedGetAnswer()}},data:function(){var e=this,t=this.$createElement;return{category:0,categoryData:i,queryParam:{search:void 0,category:null,status:!0},columns:[{title:"#",dataIndex:"id",width:40},{title:"Product ID",dataIndex:"productID",width:120},{title:"Category",dataIndex:"category",customRender:function(e,a,r){return t("span",[i[e].label])}},{title:"Title",dataIndex:"title",width:200},{title:"SubTitle",dataIndex:"subtitle"},{title:"Location",dataIndex:"location"},{title:"Sort ID",dataIndex:"sort_by",width:100},{title:"Photo",width:200,scopedSlots:{customRender:"photo"}},{title:"Status",dataIndex:"status",width:"80px",customRender:function(e,a,r){return t("span",e?["上架"]:["下架"])}},{title:"操作",dataIndex:"action",width:"120px",scopedSlots:{customRender:"action"}}],loadData:function(t){return Object(c["d"])(Object.assign(t,e.queryParam)).then(function(e){return e.result})},selectedRowKeys:[],selectedRows:[],options:{alert:{show:!0,clear:function(){e.selectedRowKeys=[]}},rowSelection:{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange}}}},methods:{handleCreate:function(e){this.$router.push({name:"ProductCreate"})},handleDelete:function(e){var t=this;this.$confirm({title:"alert",content:"Are you sure delete ".concat(e.title,"?"),okText:"delete",okType:"danger",cancelText:"cancle",onOk:function(){return Object(c["b"])(e.id).then(function(e){t.$refs.table.refresh(!0)})}})},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t}}},s=l,d=a("2877"),u=Object(d["a"])(s,r,n,!1,null,null,null);t["default"]=u.exports}}]);