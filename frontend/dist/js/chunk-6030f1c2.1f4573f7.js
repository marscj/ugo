(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6030f1c2"],{"012e":function(t,a,e){"use strict";var i=e("8f9f"),n=e.n(i);n.a},"2b1b":function(t,a,e){"use strict";e.d(a,"c",function(){return o}),e.d(a,"b",function(){return s}),e.d(a,"d",function(){return r}),e.d(a,"a",function(){return d});var i=e("365c"),n=e("b775");function o(t){return Object(n["b"])({url:i["a"].booking,method:"get",params:t})}function s(t){return Object(n["b"])({url:i["a"].booking+"".concat(t,"/"),method:"get"})}function r(t,a){return Object(n["b"])({url:i["a"].booking+"".concat(t,"/"),method:"put",data:a})}function d(t){return Object(n["b"])({url:i["a"].booking,method:"post",data:t})}},5968:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-card",{staticClass:"table-page-search-wrapper",attrs:{bordered:!1}},[e("template",{slot:"extra"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"BookingID"}},[e("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.bookingID,callback:function(a){t.$set(t.queryParam,"bookingID",a)},expression:"queryParam.bookingID"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"OrderID"}},[e("a-input",{model:{value:t.queryParam.orderID,callback:function(a){t.$set(t.queryParam,"orderID",a)},expression:"queryParam.orderID"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"Booking Date"}},[e("a-range-picker",{attrs:{value:t.booking_date},on:{change:function(a){return t.booking_date=a}}})],1)],1),4==t.queryParam.category?e("div",[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"CheckIn"}},[e("a-range-picker",{attrs:{value:t.start_date},on:{change:function(a){return t.start_date=a}}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"CheckOut"}},[e("a-range-picker",{attrs:{value:t.end_date},on:{change:function(a){return t.end_date=a}}})],1)],1)],1):3==t.queryParam.category?e("div",[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"Start Date"}},[e("a-range-picker",{attrs:{value:t.start_date},on:{change:function(a){return t.start_date=a}}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"End Date"}},[e("a-range-picker",{attrs:{value:t.end_date},on:{change:function(a){return t.end_date=a}}})],1)],1)],1):e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"Action Date"}},[e("a-range-picker",{attrs:{value:t.action_date},on:{change:function(a){return t.action_date=a}}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"Product"}},[e("a-input",{model:{value:t.queryParam.search,callback:function(a){t.$set(t.queryParam,"search",a)},expression:"queryParam.search"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"Guide"}},[e("a-input",{model:{value:t.queryParam.guide,callback:function(a){t.$set(t.queryParam,"guide",a)},expression:"queryParam.guide"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"Driver"}},[e("a-input",{model:{value:t.queryParam.driver,callback:function(a){t.$set(t.queryParam,"driver",a)},expression:"queryParam.driver"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"Vehicle"}},[e("a-input",{model:{value:t.queryParam.vehicle,callback:function(a){t.$set(t.queryParam,"vehicle",a)},expression:"queryParam.vehicle"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"Officer"}},[e("a-input",{model:{value:t.queryParam.officer,callback:function(a){t.$set(t.queryParam,"officer",a)},expression:"queryParam.officer"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"Operator"}},[e("a-input",{model:{value:t.queryParam.operator,callback:function(a){t.$set(t.queryParam,"operator",a)},expression:"queryParam.operator"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"Status"}},[e("a-select",{attrs:{value:t.queryParam.status,filterOption:!1},on:{change:function(a){return t.queryParam.status=a}}},t._l(t.BookingStatus,function(a){return e("a-select-option",{key:a.value},[t._v(t._s(a.label))])}),1)],1)],1)],1),e("a-button",{attrs:{type:"primary"},on:{click:t.hanldeSearch}},[t._v("Search & Refresh")]),e("a-button",{staticClass:"buttonStyle",attrs:{type:"primary"},on:{click:function(a){t.exportModal.visible=!0}}},[t._v("Export")])],1)],1),e("s-table",{ref:"table",attrs:{size:"default",rowKey:function(t){return t.id},columns:t.columns,data:t.loadData,bordered:"",fixed:""},scopedSlots:t._u([{key:"action_date",fn:function(a,i){return e("span",{},[[e("span",[t._v(t._s(t._f("moment")(i.action_date+" "+i.action_time,"YYYY-MM-DD HH:mm")))])]],2)}},{key:"hotel_sp",fn:function(a,i){return e("span",{},[[i.sgl?e("p",{staticClass:"booking-info"},[t._v("\n          SGL:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.sgl_price))])]):t._e(),i.dbl?e("p",{staticClass:"booking-info"},[t._v("\n          DBL:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.dbl_price))])]):t._e(),i.twn?e("p",{staticClass:"booking-info"},[t._v("\n          TWN:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.twn_price))])]):t._e(),i.tpl?e("p",{staticClass:"booking-info"},[t._v("\n          TPL:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.tpl_price))])]):t._e(),i.exb?e("p",{staticClass:"booking-info"},[t._v("\n          EXB:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.exb_price))])]):t._e()]],2)}},{key:"hotel_cp",fn:function(a,i){return e("span",{},[[i.sgl?e("p",{staticClass:"booking-info"},[t._v("\n          SGL:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.sgl_cost_price))])]):t._e(),i.dbl?e("p",{staticClass:"booking-info"},[t._v("\n          DBL:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.dbl_cost_price))])]):t._e(),i.twn?e("p",{staticClass:"booking-info"},[t._v("\n          TWN:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.twn_cost_price))])]):t._e(),i.tpl?e("p",{staticClass:"booking-info"},[t._v("\n          TPL:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.tpl_cost_price))])]):t._e(),i.exb?e("p",{staticClass:"booking-info"},[t._v("\n          EXB:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.exb_cost_price))])]):t._e(),i.child_cost_price>0?e("p",{staticClass:"booking-info"},[t._v("\n          Child:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.child_cost_price))])]):t._e(),i.tourism_fees>0?e("p",{staticClass:"booking-info"},[t._v("\n          Tourism fees:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.tourism_fees))])]):t._e(),i.vat>0?e("p",{staticClass:"booking-info"},[t._v("\n          VAT:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.vat))])]):t._e()]],2)}},{key:"pax",fn:function(a,i){return e("span",{},[[e("p",{staticClass:"booking-info"},[t._v("\n          Adult:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.quantity))])]),i.child_quantity?e("p",{staticClass:"booking-info"},[t._v("\n          Child:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.child_quantity))])]):t._e(),i.free_quantity?e("p",{staticClass:"booking-info"},[t._v("\n          Free:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.free_quantity))])]):t._e()]],2)}},{key:"sp",fn:function(a,i){return e("span",{},[[e("p",{staticClass:"booking-info"},[t._v("\n          Adult:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.price))])]),i.child_quantity?e("p",{staticClass:"booking-info"},[t._v("\n          Child:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.child_price))])]):t._e()]],2)}},{key:"cp",fn:function(a,i){return e("span",{},[[e("p",{staticClass:"booking-info"},[t._v("\n          Adult:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.cost_price))])]),i.child_quantity?e("p",{staticClass:"booking-info"},[t._v("\n          Child:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.child_cost_price))])]):t._e()]],2)}},{key:"vat",fn:function(a,i){return e("span",{},[[e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.vat))])]],2)}},{key:"total",fn:function(a,i){return e("span",{},[[i.total_price>0?e("p",{staticClass:"booking-info"},[t._v("\n          SP:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.total_price))])]):t._e(),i.total_cost_price>0?e("p",{staticClass:"booking-info"},[t._v("\n          CP:\n          "),e("span",{staticClass:"bold ligth-blue"},[t._v(t._s(i.total_cost_price))])]):t._e()]],2)}},{key:"source",fn:function(a,i){return e("span",{},[[i.guide?e("div",{staticClass:"booking-info"},[t._v("\n          Guide:\n          "),e("span",[t._v(t._s(i.guide)+" -")]),e("span",[t._v(t._s(i.guide_mobile))])]):t._e(),i.driver?e("div",{staticClass:"booking-info"},[t._v("\n          Driver:\n          "),e("span",[t._v(t._s(i.driver)+" -")]),e("span",[t._v(t._s(i.driver_mobile))])]):t._e(),i.vehicle?e("div",{staticClass:"booking-info"},[t._v("\n          Vehicle:\n          "),e("span",[t._v(t._s(i.vehicle)+" -")]),e("span",[t._v(t._s(i.vehicle_model))])]):t._e()]],2)}},{key:"location",fn:function(a,i){return e("span",{},[[i.guide?e("p",{staticClass:"booking-info"},[t._v("\n          Time:\n          "),e("span",[t._v(t._s(t._f("moment")(i.pick_up_time,"MM-DD HH:mm")))])]):t._e(),i.driver?e("p",{staticClass:"booking-info"},[t._v("\n          Pick Up:\n          "),e("span",[t._v(t._s(i.pick_up_address))])]):t._e(),i.vehicle?e("p",{staticClass:"booking-info"},[t._v("\n          Drop Off:\n          "),e("span",[t._v(t._s(i.drop_off_address))])]):t._e()]],2)}},{key:"create_at",fn:function(a){return e("span",{},[[e("span",[t._v(t._s(t._f("moment")(a,"MM-DD HH:mm")))])]],2)}},{key:"status",fn:function(a,i){return e("span",{},[[e("span",[t._v(t._s(t.BookingStatus[i.status].label))])]],2)}},{key:"action",fn:function(a,i){return e("span",{},[[e("router-link",{attrs:{to:{name:"BookingEdit",params:{id:i.id}},target:"_blank"}},[t._v("detail")])]],2)}}])})],2)},n=[],o=(e("7f7f"),e("bd86")),s=(e("c5f6"),e("2af9")),r=e("2b1b"),d=[{title:"BookingID",dataIndex:"bookingID",width:"100px"},{title:"OrderID",dataIndex:"order_id",width:"100px"},{title:"Restaurant & Meal",dataIndex:"product",width:"140px"},{title:"Booking Date",dataIndex:"booking_date",width:"100px"},{title:"Action DateTime",scopedSlots:{customRender:"action_date"},width:"130px"},{title:"Pax",scopedSlots:{customRender:"pax"},width:"80px"},{title:"SP",scopedSlots:{customRender:"sp"},width:"110px"},{title:"CP",scopedSlots:{customRender:"cp"},width:"110px"},{title:"Vat",scopedSlots:{customRender:"vat"},width:"80px"},{title:"Total",scopedSlots:{customRender:"total"},width:"110px"},{title:"Source",scopedSlots:{customRender:"source"},width:"120px"},{title:"Remarks",dataIndex:"remark"},{title:"Officer",dataIndex:"officer",width:"50px"},{title:"Operator",dataIndex:"operator",width:"50px"},{title:"Create",dataIndex:"create_at",scopedSlots:{customRender:"create_at"},width:"40px"},{title:"Status",dataIndex:"status",scopedSlots:{customRender:"status"},width:"40px"},{title:"Action",dataIndex:"action",scopedSlots:{customRender:"action"},width:"60px",fixed:"right"}],l=[{title:"BookingID",dataIndex:"bookingID",width:"100px"},{title:"OrderID",dataIndex:"order_id",width:"100px"},{title:"Product",dataIndex:"product",width:"140px"},{title:"Booking Date",dataIndex:"booking_date",width:"100px"},{title:"Action DateTime",scopedSlots:{customRender:"action_date"},width:"130px"},{title:"Pax",scopedSlots:{customRender:"pax"},width:"80px"},{title:"SP",scopedSlots:{customRender:"sp"},width:"110px"},{title:"CP",scopedSlots:{customRender:"cp"},width:"110px"},{title:"Vat",scopedSlots:{customRender:"vat"},width:"80px"},{title:"Total",scopedSlots:{customRender:"total"},width:"110px"},{title:"Source",scopedSlots:{customRender:"source"},width:"120px"},{title:"Remarks",dataIndex:"remark"},{title:"Officer",dataIndex:"officer",width:"50px"},{title:"Operator",dataIndex:"operator",width:"50px"},{title:"Create",dataIndex:"create_at",scopedSlots:{customRender:"create_at"},width:"40px"},{title:"Status",dataIndex:"status",scopedSlots:{customRender:"status"},width:"40px"},{title:"Action",dataIndex:"action",scopedSlots:{customRender:"action"},width:"60px",fixed:"right"}],c=[{title:"BookingID",dataIndex:"bookingID",width:"100px"},{title:"OrderID",dataIndex:"order_id",width:"100px"},{title:"Itinerary",dataIndex:"product",width:"140px"},{title:"Booking Date",dataIndex:"booking_date",width:"100px"},{title:"Start Date",dataIndex:"start_date",width:"100px"},{title:"End Date",dataIndex:"end_date",width:"100px"},{title:"Pax",dataIndex:"quantity",width:"40px"},{title:"SP",dataIndex:"price",width:"70px"},{title:"CP",dataIndex:"cost_price",width:"70px"},{title:"Total",scopedSlots:{customRender:"total"},width:"110px"},{title:"Source",scopedSlots:{customRender:"source"},width:"120px"},{title:"Remarks",dataIndex:"remark"},{title:"Officer",dataIndex:"officer",width:"50px"},{title:"Operator",dataIndex:"operator",width:"50px"},{title:"Create",dataIndex:"create_at",scopedSlots:{customRender:"create_at"},width:"40px"},{title:"Status",dataIndex:"status",scopedSlots:{customRender:"status"},width:"40px"},{title:"Action",dataIndex:"action",scopedSlots:{customRender:"action"},width:"60px",fixed:"right"}],u=[{title:"BookingID",dataIndex:"bookingID",width:"100px"},{title:"OrderID",dataIndex:"order_id",width:"100px"},{title:"Hotel",dataIndex:"product",width:"140px"},{title:"Booking Date",dataIndex:"booking_date",width:"100px"},{title:"CheckIn",dataIndex:"start_date",width:"100px"},{title:"CheckOut",dataIndex:"end_date",width:"100px"},{title:"Rooms",dataIndex:"rooms",width:"40px"},{title:"Night",dataIndex:"nights",width:"40px"},{title:"Blocked",dataIndex:"blocked_room",width:"60px"},{title:"SP",scopedSlots:{customRender:"hotel_sp"},width:"110px"},{title:"CP",scopedSlots:{customRender:"hotel_cp"},width:"110px"},{title:"Tourism fees",dataIndex:"tourism_fees",width:"70px"},{title:"Vat",dataIndex:"vat",width:"70px"},{title:"Total",scopedSlots:{customRender:"total"},width:"110px"},{title:"Remarks",dataIndex:"remark"},{title:"Officer",dataIndex:"officer",width:"50px"},{title:"Operator",dataIndex:"operator",width:"50px"},{title:"Create",dataIndex:"create_at",scopedSlots:{customRender:"create_at"},width:"40px"},{title:"Status",dataIndex:"status",scopedSlots:{customRender:"status"},width:"40px"},{title:"Action",dataIndex:"action",scopedSlots:{customRender:"action"},width:"60px",fixed:"right"}],p=(e("c1df"),[{value:0,label:"All"},{value:1,label:"Inquiry"},{value:2,label:"Confirm"},{value:3,label:"Padding"},{value:4,label:"Email-Sent"},{value:5,label:"OP-Cancelled"},{value:6,label:"OP-Approved"}]),_={name:"BookingList",components:{STable:s["e"],Ellipsis:s["b"]},props:{category:{type:Number,default:1}},watch:{action_date:function(t,a){null!=t&&void 0!=t&&t.length>0?(this.queryParam.action_start_day=t[0].format("YYYY-MM-DD"),this.queryParam.action_end_day=t[1].format("YYYY-MM-DD")):(this.queryParam.action_start_day=void 0,this.queryParam.action_end_day=void 0)},booking_date:function(t,a){null!=t&&void 0!=t&&t.length>0?(this.queryParam.booking_start_day=t[0].format("YYYY-MM-DD"),this.queryParam.booking_end_day=t[1].format("YYYY-MM-DD")):(this.queryParam.booking_start_day=void 0,this.queryParam.booking_end_day=void 0)},start_date:function(t,a){null!=t&&void 0!=t&&t.length>0?(this.queryParam.start_start_day=t[0].format("YYYY-MM-DD"),this.queryParam.start_end_day=t[1].format("YYYY-MM-DD")):(this.queryParam.start_start_day=void 0,this.queryParam.start_end_day=void 0)},end_date:function(t,a){null!=t&&void 0!=t&&t.length>0?(this.queryParam.end_start_day=t[0].format("YYYY-MM-DD"),this.queryParam.end_end_day=t[1].format("YYYY-MM-DD")):(this.queryParam.end_start_day=void 0,this.queryParam.end_end_day=void 0)},$route:function(t,a){this.initColunm(t),this.$refs.table.refresh()}},created:function(){this.initColunm(this.$route)},data:function(){var t,a=this;return t={BookingStatus:p,action_date:null,booking_date:null,start_date:null,end_date:null,columns:d,queryParam:{category:1,search:void 0,bookingID:void 0,orderID:void 0,officer:void 0,operator:void 0,guide:void 0,driver:void 0,status:void 0,vehicle:void 0,booking_start_day:void 0,booking_end_day:void 0,start_start_day:void 0,start_end_day:void 0,end_start_day:void 0,end_end_day:void 0,action_start_day:void 0,action_end_day:void 0}},Object(o["a"])(t,"columns",d),Object(o["a"])(t,"loadData",function(t){return Object(r["c"])(Object.assign(t,a.queryParam)).then(function(t){return t.result})}),t},methods:{hanldeSearch:function(){this.$refs.table.refresh()},initColunm:function(t){"Restaurant"===t.name?(this.columns=d,this.queryParam.category=1):"Tour"===t.name?(this.columns=l,this.queryParam.category=2):"Transport"===t.name?(this.columns=c,this.queryParam.category=3):"Hotels"===t.name&&(this.columns=u,this.queryParam.category=4)}}},m=_,h=(e("012e"),e("2877")),f=Object(h["a"])(m,i,n,!1,null,null,null);a["default"]=f.exports},"8f9f":function(t,a,e){}}]);