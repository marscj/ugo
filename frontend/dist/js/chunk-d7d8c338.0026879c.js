(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d7d8c338"],{2013:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("detail",{attrs:{"is-edit":!0},on:{title:t.onTitle}})},n=[],o=a("e8b0"),i={name:"CreateForm",components:{Detail:o["a"]},data:function(){return{description:"编辑订单"}},methods:{onTitle:function(t){this.description=t.variant,this.$route.meta.title=t.product,this.$parent.getPageMeta()}}},l=i,s=a("2877"),u=Object(s["a"])(l,r,n,!1,null,null,null);e["default"]=u.exports},e8b0:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-spin",{attrs:{spinning:t.spinning}},[a("a-form",{attrs:{form:t.form}},[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:16}},[a("a-card",[a("a-form-item",{attrs:{label:"Day(日期)"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.day,callback:function(e){t.$set(t.form,"day",e)},expression:"form.day"}})],1),a("a-form-item",{attrs:{label:"Time(时间)"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1),a("a-form-item",{attrs:{label:"Adult Quantity(成人票数量)"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.adult_quantity,callback:function(e){t.$set(t.form,"adult_quantity",e)},expression:"form.adult_quantity"}})],1),a("a-form-item",{attrs:{label:"Adult Price(成人票总价格)"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.adult_price,callback:function(e){t.$set(t.form,"adult_price",e)},expression:"form.adult_price"}})],1),a("a-form-item",{attrs:{label:"Child Quantity(儿童票数量)"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.child_quantity,callback:function(e){t.$set(t.form,"child_quantity",e)},expression:"form.child_quantity"}})],1),a("a-form-item",{attrs:{label:"Child Price(儿童票总价格)"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.child_price,callback:function(e){t.$set(t.form,"child_price",e)},expression:"form.child_price"}})],1),a("a-form-item",{attrs:{label:"Total Price(总价格)"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.total,callback:function(e){t.$set(t.form,"total",e)},expression:"form.total"}})],1),a("a-form-item",{attrs:{label:"Guest Info(客户信息)"}},[a("a-textarea",{attrs:{disabled:""},model:{value:t.form.guest_info,callback:function(e){t.$set(t.form,"guest_info",e)},expression:"form.guest_info"}})],1),a("a-form-item",{attrs:{label:"Guest Contact(客户联系方式)"}},[a("a-textarea",{attrs:{disabled:""},model:{value:t.form.guest_contact,callback:function(e){t.$set(t.form,"guest_contact",e)},expression:"form.guest_contact"}})],1),a("a-form-item",{attrs:{label:"Guest Remark"}},[a("a-textarea",{attrs:{disabled:""},model:{value:t.form.guest_remark,callback:function(e){t.$set(t.form,"guest_remark",e)},expression:"form.guest_remark"}})],1),a("a-form-item",{attrs:{label:"ConfirmID"}},[a("a-input",{model:{value:t.form.confirmID,callback:function(e){t.$set(t.form,"confirmID",e)},expression:"form.confirmID"}})],1),a("a-form-item",{attrs:{label:"Order Remark"}},[a("a-input",{model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),a("div",{staticStyle:{position:"relative","margin-top":"20px"}},[a("a-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary","html-type":"submit"},on:{click:t.handleSubmit}},[t._v("Submit")]),a("a-button",{on:{click:t.handleGoBack}},[t._v("Return")])],1)],1),a("a-col",{attrs:{span:8}},[a("a-card",[a("a-form-item",{attrs:{label:"OrderID"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.orderID,callback:function(e){t.$set(t.form,"orderID",e)},expression:"form.orderID"}})],1),a("a-form-item",{attrs:{label:"Order Status"}},[a("a-select",{attrs:{value:t.form.order_status,filterOption:!1},on:{change:t.handleOrderStatusChange}},t._l(t.orderStatus,function(e){return a("a-select-option",{key:e.value},[t._v(t._s(e.label))])}),1)],1),a("a-form-item",{attrs:{label:"Pay Status"}},[a("a-select",{attrs:{value:t.form.pay_status,filterOption:!1},on:{change:t.handlePayStatusChange}},t._l(t.payStatus,function(e){return a("a-select-option",{key:e.value},[t._v(t._s(e.label))])}),1)],1),a("a-form-item",{attrs:{label:"Customer"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.customer,callback:function(e){t.$set(t.form,"customer",e)},expression:"form.customer"}})],1),a("a-form-item",{attrs:{label:"Operator"}},[a("a-input",{attrs:{disabled:""},model:{value:t.form.operator,callback:function(e){t.$set(t.form,"operator",e)},expression:"form.operator"}})],1),a("a-form-item",{attrs:{label:"Create at"}},[[a("span",[t._v(t._s(t._f("moment")(t.form.create_at,"YYYY-MM-DD HH:mm")))])]],2),a("a-form-item",{attrs:{label:"Change at"}},[[a("span",[t._v(t._s(t._f("moment")(t.form.change_at,"YYYY-MM-DD HH:mm")))])]],2)],1)],1)],1)],1)],1)},n=[],o=a("f3b8"),i=a("f8b7"),l=[{value:0,label:"新建"},{value:1,label:"订单已确认"},{value:2,label:"出票成功"},{value:3,label:"出票失败"},{value:4,label:"订单已取消"}],s=[{value:0,label:"未支付"},{value:1,label:"部分支付"},{value:2,label:"全部付清"},{value:3,label:"部分退款"},{value:4,label:"全部退款"}],u={name:"OrderDetail",props:{isEdit:{type:Boolean,default:!1}},data:function(){return{orderStatus:l,payStatus:s,form:{order_status:0,pay_status:0,adult_quantity:void 0,adult_price:void 0,child_quantity:void 0,child_price:void 0},help:{},spinning:!1}},created:function(){if(this.isEdit){var t=this.$route.params&&this.$route.params.id;this.fetch(t)}},methods:{handleGoBack:function(){this.$router.go(-1)},fetch:function(t){var e=this;this.spinning=!0,Object(i["c"])(t).then(function(t){var a=t.result;e.form=a,e.initData(a)}).finally(function(){e.spinning=!1})},updateForm:function(t){var e=this;this.spinning=!0,Object(i["e"])(this.$route.params.id,t).then(function(t){t.result;e.handleGoBack()}).catch(function(t){e.checkError(t)}).finally(function(){e.spinning=!1})},createForm:function(t){var e=this;this.spinning=!0,Object(i["b"])(t).then(function(t){t.result;e.handleGoBack()}).catch(function(t){e.checkError(t)}).finally(function(){e.spinning=!1})},checkError:function(t){var e=Object(o["a"])(t);for(var a in this.help={},e)e[a]&&this.$notification["error"]({message:a,description:e[a],duration:4})},initData:function(t){this.isEdit&&this.$emit("title",t)},handleOrderStatusChange:function(t){this.form.order_status=t},handlePayStatusChange:function(t){this.form.pay_status=t},handleSubmit:function(){this.isEdit?(console.log(this.form,"=========="),this.updateForm(this.form)):this.createForm(this.form)}}},c=u,m=a("2877"),f=Object(m["a"])(c,r,n,!1,null,null,null);e["a"]=f.exports},f3b8:function(t,e,a){"use strict";function r(t){if(t&&t.response&&t.response.data&&t.response.data.message){for(var e={},a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];for(var o=0,i=r;o<i.length;o++){var l=i[o];e[l]=t.response.data.message[l]||null}return e}return null}a.d(e,"a",function(){return r})},f8b7:function(t,e,a){"use strict";a.d(e,"a",function(){return o}),a.d(e,"d",function(){return i}),a.d(e,"c",function(){return l}),a.d(e,"e",function(){return s}),a.d(e,"b",function(){return u});var r=a("365c"),n=a("b775");function o(t){return Object(n["b"])({url:r["a"].checkout,method:"post",data:t})}function i(t){return Object(n["b"])({url:r["a"].order,method:"get",params:t})}function l(t){return Object(n["b"])({url:r["a"].order+"".concat(t,"/"),method:"get"})}function s(t,e){return Object(n["b"])({url:r["a"].order+"".concat(t,"/"),method:"put",data:e})}function u(t){return Object(n["b"])({url:r["a"].order,method:"post",data:t})}}}]);